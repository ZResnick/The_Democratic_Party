{"ast":null,"code":"import _objectSpread from \"/Users/zacharyresnick/Desktop/The_Democratic_Party/the_democratic_party/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport history from '../../history';\nconst initialState = []; //this will be an array of objects\n//CONSTANTS:\n// const ADDED_A_SONG = 'ADDED_A_SONG';\n//ACTION CREATORS\n// const addedASong = song => ({ type: ADDED_A_SONG, song });\n//THUNKS\n\nexport const addASong = song => async (dispatch, getState, //the firestore functions on line 38 WILL NOT WORK WITHOUT THIS GETSTATE!!!\n{\n  getFirebase,\n  getFirestore\n}) => {\n  try {\n    const firestore = getFirestore(); //this is the call that gets us access to firestore:\n    //gets us a reference to the Songs Collection and then adds a document using .add({document })\n\n    await firestore.collection('Songs').add(_objectSpread({}, song));\n    history.push('/');\n  } catch (err) {\n    console.error(err);\n  }\n}; //this route will need to find the song by the song id and increment the upvotes\n\nexport const upvote = (id, votes) => async (dispatch, getState, {\n  getFirebase,\n  getFirestore\n}) => {\n  try {\n    const firestore = getFirestore();\n    const songToUpdate = await firestore.doc(\"Songs/\".concat(id));\n    console.log(songToUpdate);\n    history.push('/');\n  } catch (err) {\n    console.error(err);\n  }\n}; //this route will need to find the song by the song id and decrement the upvotes\n\nexport const downvote = (id, votes) => async (dispatch, getState, {\n  getFirebase,\n  getFirestore\n}) => {\n  try {\n    const firestore = getFirestore();\n    const songToUpdate = await firestore.collection('Songs').doc(id);\n    await songToUpdate.update({\n      upvotes: votes - 1\n    });\n    console.log(songToUpdate.upvotes);\n    history.push('/');\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nconst songReducer = (state = initialState, action) => {\n  switch (action.type) {\n    default:\n      return state;\n  }\n};\n\nexport default songReducer;","map":{"version":3,"sources":["/Users/zacharyresnick/Desktop/The_Democratic_Party/the_democratic_party/src/store/reducers/songReducer.js"],"names":["history","initialState","addASong","song","dispatch","getState","getFirebase","getFirestore","firestore","collection","add","push","err","console","error","upvote","id","votes","songToUpdate","doc","log","downvote","update","upvotes","songReducer","state","action","type"],"mappings":";AAAA,OAAOA,OAAP,MAAoB,eAApB;AAEA,MAAMC,YAAY,GAAG,EAArB,C,CAAyB;AAEzB;AACA;AAEA;AACA;AAEA;;AACA,OAAO,MAAMC,QAAQ,GAAGC,IAAI,IAAI,OAC9BC,QAD8B,EAE9BC,QAF8B,EAEpB;AACV;AAAEC,EAAAA,WAAF;AAAeC,EAAAA;AAAf,CAH8B,KAI3B;AACH,MAAI;AACF,UAAMC,SAAS,GAAGD,YAAY,EAA9B,CADE,CACgC;AAClC;;AACA,UAAMC,SAAS,CAACC,UAAV,CAAqB,OAArB,EAA8BC,GAA9B,mBAAuCP,IAAvC,EAAN;AACAH,IAAAA,OAAO,CAACW,IAAR,CAAa,GAAb;AACD,GALD,CAKE,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD;AACF,CAbM,C,CAeP;;AACA,OAAO,MAAMG,MAAM,GAAG,CAACC,EAAD,EAAKC,KAAL,KAAe,OACnCb,QADmC,EAEnCC,QAFmC,EAGnC;AAAEC,EAAAA,WAAF;AAAeC,EAAAA;AAAf,CAHmC,KAIhC;AACH,MAAI;AACF,UAAMC,SAAS,GAAGD,YAAY,EAA9B;AACA,UAAMW,YAAY,GAAG,MAAMV,SAAS,CAACW,GAAV,iBAAuBH,EAAvB,EAA3B;AACAH,IAAAA,OAAO,CAACO,GAAR,CAAYF,YAAZ;AACAlB,IAAAA,OAAO,CAACW,IAAR,CAAa,GAAb;AACD,GALD,CAKE,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD;AACF,CAbM,C,CAeP;;AACA,OAAO,MAAMS,QAAQ,GAAG,CAACL,EAAD,EAAKC,KAAL,KAAe,OACrCb,QADqC,EAErCC,QAFqC,EAGrC;AAAEC,EAAAA,WAAF;AAAeC,EAAAA;AAAf,CAHqC,KAIlC;AACH,MAAI;AACF,UAAMC,SAAS,GAAGD,YAAY,EAA9B;AACA,UAAMW,YAAY,GAAG,MAAMV,SAAS,CAACC,UAAV,CAAqB,OAArB,EAA8BU,GAA9B,CAAkCH,EAAlC,CAA3B;AACA,UAAME,YAAY,CAACI,MAAb,CAAoB;AACxBC,MAAAA,OAAO,EAAEN,KAAK,GAAG;AADO,KAApB,CAAN;AAGAJ,IAAAA,OAAO,CAACO,GAAR,CAAYF,YAAY,CAACK,OAAzB;AACAvB,IAAAA,OAAO,CAACW,IAAR,CAAa,GAAb;AACD,GARD,CAQE,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD;AACF,CAhBM;;AAkBP,MAAMY,WAAW,GAAG,CAACC,KAAK,GAAGxB,YAAT,EAAuByB,MAAvB,KAAkC;AACpD,UAAQA,MAAM,CAACC,IAAf;AACE;AACE,aAAOF,KAAP;AAFJ;AAID,CALD;;AAOA,eAAeD,WAAf","sourcesContent":["import history from '../../history';\n\nconst initialState = []; //this will be an array of objects\n\n//CONSTANTS:\n// const ADDED_A_SONG = 'ADDED_A_SONG';\n\n//ACTION CREATORS\n// const addedASong = song => ({ type: ADDED_A_SONG, song });\n\n//THUNKS\nexport const addASong = song => async (\n  dispatch,\n  getState, //the firestore functions on line 38 WILL NOT WORK WITHOUT THIS GETSTATE!!!\n  { getFirebase, getFirestore }\n) => {\n  try {\n    const firestore = getFirestore(); //this is the call that gets us access to firestore:\n    //gets us a reference to the Songs Collection and then adds a document using .add({document })\n    await firestore.collection('Songs').add({ ...song });\n    history.push('/');\n  } catch (err) {\n    console.error(err);\n  }\n};\n\n//this route will need to find the song by the song id and increment the upvotes\nexport const upvote = (id, votes) => async (\n  dispatch,\n  getState,\n  { getFirebase, getFirestore }\n) => {\n  try {\n    const firestore = getFirestore();\n    const songToUpdate = await firestore.doc(`Songs/${id}`);\n    console.log(songToUpdate);\n    history.push('/');\n  } catch (err) {\n    console.error(err);\n  }\n};\n\n//this route will need to find the song by the song id and decrement the upvotes\nexport const downvote = (id, votes) => async (\n  dispatch,\n  getState,\n  { getFirebase, getFirestore }\n) => {\n  try {\n    const firestore = getFirestore();\n    const songToUpdate = await firestore.collection('Songs').doc(id);\n    await songToUpdate.update({\n      upvotes: votes - 1,\n    });\n    console.log(songToUpdate.upvotes);\n    history.push('/');\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nconst songReducer = (state = initialState, action) => {\n  switch (action.type) {\n    default:\n      return state;\n  }\n};\n\nexport default songReducer;\n"]},"metadata":{},"sourceType":"module"}