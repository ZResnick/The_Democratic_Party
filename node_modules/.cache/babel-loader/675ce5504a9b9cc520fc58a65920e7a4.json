{"ast":null,"code":"//import history from '../../history';\nconst initialState = {}; //this thunk will add the token to firestore so I can access it elsewhere,. namely in my allSongs component\n\nexport const addTokenToFirestore = token => async (dispatch, getState, {\n  getFirebase,\n  getFirestore\n}) => {\n  try {\n    const firestore = getFirestore();\n    let data = {\n      token,\n      timestamp: firestore.FieldValue.serverTimestamp()\n    }; //adding a timestamp\n\n    let existingToken = await firestore.collection('spotifyToken').doc();\n    console.log('existingToke:', existingToken);\n\n    if (existingToken.spotifyToken) {\n      await existingToken.update(data);\n    } else {\n      await firestore.collection('spotifyToken').add(data);\n    } // history.push('/');\n\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nconst authReducer = (state = initialState, action) => {\n  return state;\n};\n\nexport default authReducer;","map":{"version":3,"sources":["/Users/zacharyresnick/Desktop/The_Democratic_Party/the_democratic_party/src/store/reducers/authReducer.js"],"names":["initialState","addTokenToFirestore","token","dispatch","getState","getFirebase","getFirestore","firestore","data","timestamp","FieldValue","serverTimestamp","existingToken","collection","doc","console","log","spotifyToken","update","add","err","error","authReducer","state","action"],"mappings":"AAAA;AAEA,MAAMA,YAAY,GAAG,EAArB,C,CAEA;;AACA,OAAO,MAAMC,mBAAmB,GAAGC,KAAK,IAAI,OAC1CC,QAD0C,EAE1CC,QAF0C,EAG1C;AAAEC,EAAAA,WAAF;AAAeC,EAAAA;AAAf,CAH0C,KAIvC;AACH,MAAI;AACF,UAAMC,SAAS,GAAGD,YAAY,EAA9B;AACA,QAAIE,IAAI,GAAG;AAAEN,MAAAA,KAAF;AAASO,MAAAA,SAAS,EAAEF,SAAS,CAACG,UAAV,CAAqBC,eAArB;AAApB,KAAX,CAFE,CAEuE;;AACzE,QAAIC,aAAa,GAAG,MAAML,SAAS,CAACM,UAAV,CAAqB,cAArB,EAAqCC,GAArC,EAA1B;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BJ,aAA7B;;AACA,QAAIA,aAAa,CAACK,YAAlB,EAAgC;AAC9B,YAAML,aAAa,CAACM,MAAd,CAAqBV,IAArB,CAAN;AACD,KAFD,MAEO;AACL,YAAMD,SAAS,CAACM,UAAV,CAAqB,cAArB,EAAqCM,GAArC,CAAyCX,IAAzC,CAAN;AACD,KATC,CAUF;;AACD,GAXD,CAWE,OAAOY,GAAP,EAAY;AACZL,IAAAA,OAAO,CAACM,KAAR,CAAcD,GAAd;AACD;AACF,CAnBM;;AAqBP,MAAME,WAAW,GAAG,CAACC,KAAK,GAAGvB,YAAT,EAAuBwB,MAAvB,KAAkC;AACpD,SAAOD,KAAP;AACD,CAFD;;AAIA,eAAeD,WAAf","sourcesContent":["//import history from '../../history';\n\nconst initialState = {};\n\n//this thunk will add the token to firestore so I can access it elsewhere,. namely in my allSongs component\nexport const addTokenToFirestore = token => async (\n  dispatch,\n  getState,\n  { getFirebase, getFirestore }\n) => {\n  try {\n    const firestore = getFirestore();\n    let data = { token, timestamp: firestore.FieldValue.serverTimestamp() }; //adding a timestamp\n    let existingToken = await firestore.collection('spotifyToken').doc();\n    console.log('existingToke:', existingToken);\n    if (existingToken.spotifyToken) {\n      await existingToken.update(data);\n    } else {\n      await firestore.collection('spotifyToken').add(data);\n    }\n    // history.push('/');\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nconst authReducer = (state = initialState, action) => {\n  return state;\n};\n\nexport default authReducer;\n"]},"metadata":{},"sourceType":"module"}