{"ast":null,"code":"import _objectSpread from \"/Users/zacharyresnick/Desktop/The_Democratic_Party/the_democratic_party/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport history from '../../history'; //CONSTANTS:\n// const ADDED_A_SONG = 'ADDED_A_SONG';\n//ACTION CREATORS\n// const addedASong = song => ({ type: ADDED_A_SONG, song });\n//THUNKS\n\nexport const addASong = song => async (dispatch, getState, //the firestore functions on line 38 WILL NOT WORK WITHOUT THIS GETSTATE!!!\n{\n  getFirebase,\n  getFirestore\n}) => {\n  try {\n    const firestore = getFirestore(); //this is the call that gets us access to firestore:\n    //gets us a reference to the Songs Collection and then adds a document using .add({document })\n\n    await firestore.collection('Songs').add(_objectSpread({}, song));\n    history.push('/'); // dispatch(addedASong(song));\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nconst songReducer = (state = initialState, action) => {\n  switch (action.type) {\n    // case ADDED_A_SONG:\n    //   console.log('HELLLLLLOOOOOOO');\n    //   return [...state, action.song];\n    default:\n      return state;\n  }\n};\n\nexport default songReducer;","map":{"version":3,"sources":["/Users/zacharyresnick/Desktop/The_Democratic_Party/the_democratic_party/src/store/reducers/songReducer.js"],"names":["history","addASong","song","dispatch","getState","getFirebase","getFirestore","firestore","collection","add","push","err","console","error","songReducer","state","initialState","action","type"],"mappings":";AAAA,OAAOA,OAAP,MAAoB,eAApB,C,CAEA;AACA;AAEA;AACA;AAEA;;AAEA,OAAO,MAAMC,QAAQ,GAAGC,IAAI,IAAI,OAC9BC,QAD8B,EAE9BC,QAF8B,EAEpB;AACV;AAAEC,EAAAA,WAAF;AAAeC,EAAAA;AAAf,CAH8B,KAI3B;AACH,MAAI;AACF,UAAMC,SAAS,GAAGD,YAAY,EAA9B,CADE,CACgC;AAClC;;AACA,UAAMC,SAAS,CAACC,UAAV,CAAqB,OAArB,EAA8BC,GAA9B,mBAAuCP,IAAvC,EAAN;AACAF,IAAAA,OAAO,CAACU,IAAR,CAAa,GAAb,EAJE,CAKF;AACD,GAND,CAME,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD;AACF,CAdM;;AAgBP,MAAMG,WAAW,GAAG,CAACC,KAAK,GAAGC,YAAT,EAAuBC,MAAvB,KAAkC;AACpD,UAAQA,MAAM,CAACC,IAAf;AACE;AACA;AACA;AACA;AACE,aAAOH,KAAP;AALJ;AAOD,CARD;;AAUA,eAAeD,WAAf","sourcesContent":["import history from '../../history';\n\n//CONSTANTS:\n// const ADDED_A_SONG = 'ADDED_A_SONG';\n\n//ACTION CREATORS\n// const addedASong = song => ({ type: ADDED_A_SONG, song });\n\n//THUNKS\n\nexport const addASong = song => async (\n  dispatch,\n  getState, //the firestore functions on line 38 WILL NOT WORK WITHOUT THIS GETSTATE!!!\n  { getFirebase, getFirestore }\n) => {\n  try {\n    const firestore = getFirestore(); //this is the call that gets us access to firestore:\n    //gets us a reference to the Songs Collection and then adds a document using .add({document })\n    await firestore.collection('Songs').add({ ...song });\n    history.push('/');\n    // dispatch(addedASong(song));\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nconst songReducer = (state = initialState, action) => {\n  switch (action.type) {\n    // case ADDED_A_SONG:\n    //   console.log('HELLLLLLOOOOOOO');\n    //   return [...state, action.song];\n    default:\n      return state;\n  }\n};\n\nexport default songReducer;\n"]},"metadata":{},"sourceType":"module"}